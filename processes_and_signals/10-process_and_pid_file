#!/usr/bin/env bash
#bash script
#echo $$ > /var/run/myscript.pid 2>/dev/null || exit 1
#trap 'echo "I hate the kill command"' SIGTERM
#trap 'echo "Y U no love me?!"' SIGINT
#trap 'rm -f /var/run/myscript.pid ; exit' EXIT
#trap 'exit' SIGQUIT
#while true
#do 
 #  echo 'To infinity and beyond'
#done
#!/usr/bin/env bash

PIDFILE="/var/run/myscript.pid"
CREATED=0

# Try to create PID file
if echo $$ > "$PIDFILE" 2>/dev/null; then
    CREATED=1
fi

sigterm() {
    echo "I hate the kill command"
    if [ "$CREATED" -eq 1 ]; then
        rm -f "$PIDFILE"
    fi
    exit 0
}

sigint() {
    echo "Y U no love me?!"
}

sigquit() {
    if [ "$CREATED" -eq 1 ]; then
        rm -f "$PIDFILE"
    fi
    exit 0
}

trap sigterm SIGTERM
trap sigint SIGINT
trap sigquit SIGQUIT

while true; do
    echo "To infinity and beyond"
    sleep 1
done

